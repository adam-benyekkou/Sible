<div id="sidebar-favorites" hx-get="/api/sidebar/favorites" hx-trigger="sidebar-refresh from:body" hx-swap="outerHTML"
    {% if oob %}hx-swap-oob="true" {% endif %}>
    {% for folder, playbooks in favorites_grouped.items() %}
    <details class="sidebar-folder" open>
        <summary class="folder-title"
            style="font-size: 11px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; padding: 12px 12px 4px; color: var(--text-muted); opacity: 0.8;">
            <i data-lucide="folder" style="width: 12px; height: 12px; margin-right: 6px;"></i>
            {{ folder }}
        </summary>
        <div class="folder-content" style="padding-left: 12px;">
            {% for playbook in playbooks %}
            <div class="playbook-item" hx-get="/playbooks/{{ playbook.path | safe }}" hx-target="#main-content"
                hx-swap="innerHTML" hx-push-url="true"
                style="font-size: 13px; font-weight: 500; padding: 6px 12px; border-radius: 4px; cursor: pointer; display: flex; align-items: center; gap: 8px;">
                <span class="status-dot status-{{ playbook.status }}" style="width: 6px; height: 6px;"></span>
                {{ playbook.name }}
            </div>
            {% endfor %}
        </div>
    </details>
    {% endfor %}
    {% if not favorites_grouped %}
    <div style="padding: 24px 16px; text-align: center; color: var(--text-muted); font-size: 13px;">
        Pin your favorite playbooks here.
    </div>
    {% endif %}
</div>