<form hx-put="/api/users/{{ user.id }}" hx-swap="none"
    hx-on::after-request="if(event.detail.successful) window.location.reload()">
    <label>
        Username
        <input type="text" name="username" value="{{ user.username }}" required>
    </label>
    <label>
        New Password (leave blank to keep current)
        <input type="password" name="password" placeholder="Min 8 characters">
    </label>
    <label>
        Role
        <select name="role">
            <option value="watcher" {% if user.role=='watcher' %}selected{% endif %}>Watcher (Read Only)</option>
            <option value="operator" {% if user.role=='operator' %}selected{% endif %}>Operator (Run Playbooks)</option>
            <option value="admin" {% if user.role=='admin' %}selected{% endif %}>Admin (Full Access)</option>
        </select>
    </label>
    <footer>
        <button type="button" class="secondary" @click="showEditModal = false">Cancel</button>
        <button type="submit">Save Changes</button>
    </footer>
</form>