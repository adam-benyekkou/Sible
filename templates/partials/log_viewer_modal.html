<div class="modal-wrapper"
    style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.45); backdrop-filter: blur(4px); z-index: 2000; display: flex; justify-content: center; align-items: center;"
    x-data="{ }" x-init="lucide.createIcons()" @keydown.escape.window="$root.remove()" @click.self="$root.remove()">
    <article
        style="min-width: 80vw; background: var(--surface-primary); border-radius: 12px; box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1); border: 1px solid var(--border-subtle); overflow: hidden; animation: modalScaleIn 0.3s cubic-bezier(0.16, 1, 0.3, 1); margin: 2rem;">
        <header
            style="display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--border-subtle); padding: 1rem 1.5rem; background: var(--surface-primary);">
            <div style="display: flex; flex-direction: column;">
                <h5 style="margin: 0; font-weight: 600; color: var(--text-primary);">Log Output (Run #{{ run.id }})</h5>
                <small style="color: var(--text-muted);">{{ run.start_time|format_datetime(request.state.user.timezone)
                    }}</small>
            </div>
            <button type="button" aria-label="Close" @click="$root.remove()"
                style="background: transparent; border: none; padding: 8px; cursor: pointer; color: var(--text-muted); display: flex; align-items: center; justify-content: center; border-radius: 6px; transition: background 0.2s;"
                onmouseover="this.style.background='var(--surface-secondary)'"
                onmouseout="this.style.background='transparent'">
                <i data-lucide="x" style="width: 20px; height: 20px;"></i>
            </button>
        </header>

        <section style="padding: 0;">
            <pre
                style="max-height: 70vh; overflow-y: auto; background-color: var(--surface-secondary); color: var(--text-primary); padding: 1.5rem; margin: 0; font-family: 'Geist Mono', monospace; font-size: 13px; border: none; white-space: pre-wrap;">{{ run.log_output | safe }}</pre>
        </section>
    </article>
</div>