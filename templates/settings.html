{% extends "layout.html" %}

{% block content %}
<div class="settings-container" style="display: flex; height: 100vh;">
    <!-- Settings Sidebar -->
    <aside
        style="width: 280px; background: var(--ds-background-200); border-right: 1px solid var(--ds-gray-200); display: flex; flex-direction: column;">
        <div style="padding: 1.5rem;">
            <h4 style="margin-bottom: 0.5rem;">Settings</h4>
            <p style="font-size: 0.85rem; color: var(--ds-gray-600);">Manage your instance</p>
        </div>

        <nav style="flex-grow: 1; padding: 0 1rem;">
            <a href="#" class="settings-nav-item active" hx-get="/settings/general" hx-target="#settings-content"
                onclick="document.querySelectorAll('.settings-nav-item').forEach(el => el.classList.remove('active')); this.classList.add('active');">
                General
            </a>

            <a href="#" class="settings-nav-item" hx-get="/settings/retention_tab" hx-target="#settings-content"
                onclick="document.querySelectorAll('.settings-nav-item').forEach(el => el.classList.remove('active')); this.classList.add('active');">
                Retention Policies
            </a>

            <a href="#" class="settings-nav-item" hx-get="/settings/notifications" hx-target="#settings-content"
                onclick="document.querySelectorAll('.settings-nav-item').forEach(el => el.classList.remove('active')); this.classList.add('active');">
                Notifications
            </a>

            <a href="#" class="settings-nav-item" hx-get="/settings/inventory" hx-target="#settings-content"
                onclick="document.querySelectorAll('.settings-nav-item').forEach(el => el.classList.remove('active')); this.classList.add('active');">
                Inventory
            </a>

            <a href="#" class="settings-nav-item" hx-get="/settings/secrets" hx-target="#settings-content"
                onclick="document.querySelectorAll('.settings-nav-item').forEach(el => el.classList.remove('active')); this.classList.add('active');">
                Secrets
            </a>

            <a href="/" class="settings-nav-item" style="margin-top: auto; border-top: 1px solid var(--ds-gray-200);">
                ‚Üê Back to Dashboard
            </a>
        </nav>
    </aside>

    <!-- Content Area -->
    <main id="settings-content" style="flex-grow: 1; padding: 2rem; overflow-y: auto;">
        <!-- Default content loaded via HTMX or include -->
        {% include "partials/settings_general.html" %}
    </main>
</div>

<style>
    .settings-nav-item {
        display: block;
        padding: 0.75rem 1rem;
        margin-bottom: 0.25rem;
        border-radius: 6px;
        color: var(--ds-gray-600);
        text-decoration: none;
        font-size: 0.95rem;
        transition: all 0.2s;
    }

    .settings-nav-item:hover {
        background: var(--ds-gray-100);
        color: var(--ds-gray-1000);
    }

    .settings-nav-item.active {
        background: var(--ds-gray-200);
        color: var(--ds-gray-1000);
        font-weight: 500;
    }
</style>
{% endblock %}